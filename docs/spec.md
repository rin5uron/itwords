# 「実践型IT用語辞典」機能追加・改修仕様書

**参照ビジョン**: `vision.md`

---

## 📋 目次

### 📌 基本方針
- [1. 概要](#概要)
- [2. 全体的なUI/UX方針](#全体的なuiux方針)

### ⚙️ 機能要件  
- [3. 機能要件](#機能要件)
  - [3.1. ナビゲーション](#ナビゲーション)
  - [3.2. トップページ](#トップページ)
  - [3.3. 用語解説ページ](#用語解説ページ)
  - [3.4. 用語リクエストフォーム](#用語リクエストフォーム)
  - [3.5. RSSフィード](#rssフィード)
  - [3.6. Google連携](#google連携)

### 🛠 非機能要件
- [4. 非機能要件](#非機能要件)
  - [4.1. デザイン・レスポンシブ対応](#デザインレスポンシブ対応)
  - [4.2. ダークモード対応](#ダークモード対応)
  - [4.3. アクセシビリティ](#アクセシビリティ)
  - [4.4. パフォーマンス](#パフォーマンス)
  - [4.5. エラーハンドリング](#エラーハンドリング)
  - [4.6. セキュリティ・HTTPS・プライバシー対応](#セキュリティhttpsプライバシー対応)

### 📁 サイト構造
- [サイト構造とCSS設計仕様書](#サイト構造とcss設計仕様書)
  - [ディレクトリ構成](#ディレクトリ構成)
  - [CSS設計方針](#css設計方針)
  - [補足](#補足)
  - [今後の拡張](#今後の拡張)

---

## 概要

本仕様書は、「実践型IT用語辞典」サイトのビジョンに基づき、利便性および学習体験を向上させるための機能要件と非機能要件を定義する。

<br>

---

## 全体的なUI/UX方針

### 🎨 コンセプト
「シンプルで美しく、親しみやすい」「初心者でも迷わない」UI/UXを追求する。

### 📐 デザイン
余白を活かしたクリーンなデザインを採用する。

### ⚡ インタラクション
ユーザーの操作に対するフィードバックを明確にし、サイト利用の満足度を高めるため、ホバーエフェクトやローディングアニメーションなどを適切に導入する。

<br>

---

## 機能要件

### ナビゲーション

#### 🧭 ヘッダー:
- サイトタイトルを配置する。
- スマートフォン表示時には、ナビゲーションリンクをハンバーガーメニューに格納する。

<br>

#### 🔗 ナビゲーションリンク:
- 人気用語 (#popular)
- 体験デモ (#demo)
- 新着用語 (#new)
- 制作背景 (#about)
- 用語リクエスト (/form/request.html)

<br>

---

### トップページ

#### 🌟 ヒーローセクション:
- サイトのコンセプトを伝える見出しと説明文を配置する。
- 「用語を探す」「体験デモを見る」へのCTAボタンを設置する。

<br>

#### 🔍 用語検索:
1. 検索form
2. かな、アルファベットから探せるようにする
3. カテゴリから探す

<br>

**[実装済み(デモ)]** 検索入力欄を設置する。  
**[TODO]** 将来的に、サイト内用語を全文検索できる機能を実装する。

<br>

#### 📋 セクション構成:
- 人気の用語 (#popular)
- 体験デモ (#demo)
- この辞典の特長 (#features)
- 制作の背景と意図 (#about)
- 新着用語 (#new)

<br>

#### 🔗 フッター:
- 用語リクエスト、RSSへのリンクを設置する。
- SNSシェアボタンを設置する。
- コピーライト、サイトに関する注記を記載する。

<br>

---

### 用語解説ページ

#### 📄 構成:
- ヘッダーはトップページと共通のデザインを適用する。
- 用語の解説、図解、体験デモなどを配置する。
- ページ下部にトップページへのリンクを設置する。

<br>

#### 📢 SNSシェア機能:
**[実装済み]** X (旧Twitter), Facebookへのシェア機能をフッターに実装済み。  
**[TODO]** はてなブックマークを追加する。

<br>

**シェアフォーマット**:  
「{用語名}」について学びました！｜実践型IT用語辞典 #実践型IT用語辞典 {ページのURL}

<br>

---

### 用語リクエストフォーム

#### 🎯 目的
ユーザーが解説を希望するIT用語を投稿できるようにする。

<br>

**[実装済み]** mailto を利用した簡易的なフォームを設置済み。

<br>

#### 📝 フォーム項目:
- リクエスト用語 (必須)
- リクエスト理由 (任意)
- 連絡先 (任意)

<br>

**[TODO]** 将来的に、Google Formsへの連携またはサーバーサイドでの受付を検討する。

<br>

---

### RSSフィード

#### 🎯 目的
サイトの更新情報を購読者に通知する。

<br>

**[実装済み]** rss.xml ファイルを設置済み。  
**形式**: RSS 2.0

<br>

**[TODO]** サイト更新時に手動またはスクリプトで rss.xml を更新する運用フローを確立する。

<br>

---

### Google連携

#### 🎯 目的
アクセス解析および広告収益化の準備。

<br>

#### 📊 Googleアナリティクス（GA4）:
- 全ページの<head>にGoogleタグマネージャのスクリプトを挿入する。
- ページごとの閲覧数や離脱率、クリックイベント等の計測を行う。

<br>

#### 💰 Googleアドセンス:
- 審査通過に必要なポリシーを考慮したレイアウト・コンテンツ構成を設計する。
- 自動広告タグを<body>内に挿入する箇所を準備する。
- 表示崩れや読み込み速度への影響を抑える工夫を行う。

<br>

#### ⚙️ 実装要件:
- HTML全体がW3Cに準拠し、広告スクリプトが正しく動作する構造であること。
- SEOを考慮したタグ設計がなされていること（<title>、<meta>タグの適切な設定）。

<br>

---

## 非機能要件

### デザインレスポンシブ対応

**[実装済み]** メディアクエリによるレスポンシブ対応は実装済み。

**[TODO]** スマートフォンやタブレットでの可読性、操作性を継続的に改善する。特にインタラクティブなデモ画面のUIを最適化する。

<br>

---

### ダークモード対応

#### 🎯 目的
ユーザーの閲覧環境に合わせて、目に優しいダークな配色を提供する。

#### 🛠 実装方法
CSSの prefers-color-scheme: dark メディアクエリを利用する。

**[TODO]** ライト/ダークの配色をCSSカスタムプロパティで管理し、切り替えを実装する。手動切り替えトグルの設置も検討する。

<br>

---

### アクセシビリティ

#### 🎯 目的
年齢や身体的な条件に関わらず、誰もが快適にサイトを利用できるようにする。

**[実装済み]** role, aria-label などの基本的な属性は一部実装済み。

**[TODO]** 以下を含むアクセシビリティ向上策を継続的に実施する。
- 全てのインタラクティブ要素のキーボード操作担保。
- スクリーンリーダー対応の強化 (aria-live 等の適切な利用)。
- WCAG基準を満たすコントラスト比の確保。

<br>

---

### パフォーマンス

#### 🎯 目的
ページの表示速度を向上させ、ユーザー体験とSEO評価を高める。

**[TODO]** 以下の施策を検討・実装する。
- **画像最適化**: WebP形式の利用、loading="lazy" の適用。
- **ファイル圧縮**: CSS/JavaScriptのミニファイ。
- **ブラウザキャッシュ**: Cache-Control ヘッダーの活用。

<br>

---

### エラーハンドリング

#### 🎯 目的
予期せぬエラー発生時に、ユーザーを適切に案内する。

**[TODO]** 以下の対応を行う。
- カスタム404 Not Foundページを作成する。
- 体験デモの実行時（API通信失敗など）に、分かりやすいエラーメッセージを表示する。

<br>

---

### セキュリティHTTPSプライバシー対応

#### 🎯 目的
Googleアドセンス/アナリティクス利用要件およびSEO向上のため、セキュアな通信とユーザープライバシー保護を確保する。

**[TODO]**
- 独自ドメインでのHTTPS（SSL証明書）を導入する。
- 通信は常時HTTPSを使用し、httpアクセスはhttpsにリダイレクトさせる。
- Cookie利用に関するバナーまたはモーダルを表示し、ユーザーに通知する（GDPR対応）。
- Cookie通知の文言、操作ボタン、閉じる手段を含むUIをデザインに組み込む。
- 必要に応じて、Google Consent Mode v2の導入も検討する。

<br>

---

---

# サイト構造とCSS設計仕様書

---

## ディレクトリ構成

```
/index.html               ← トップページ（用語一覧やナビゲーションなど）
/styles.css               ← 全ページ共通のスタイルシート
/script.js                ← 全ページ共通のJavaScript
/samplepage/              ← 各用語ページの格納ディレクトリ
  ├── foolproof/
  │   ├── index.html
  │   └── custom.css（※必要な場合のみ）
  └── local-storage/
      ├── index.html
      └── custom.css（※必要な場合のみ）
```

<br>

---

## CSS設計方針

### ✅ 共通スタイル（全体）

- `/styles.css` に下記のような全体共通スタイルを定義
  - フォント、配色、基本レイアウト
  - 用語ページ共通のボックス・ボタン・見出し
  - 絵文字調整などの補助クラス

#### 例：

```css
body {
  font-family: system-ui, sans-serif;
  line-height: 1.6;
  background-color: #fefefe;
  color: #333;
}

.term-box {
  border: 1px solid #ddd;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 2rem;
  background: #fff;
}

.emoji {
  font-size: 1.2em;
  margin-right: 0.3em;
  vertical-align: middle;
}
```

<br>

---

### ✅ ページ固有スタイル

- カスタマイズが必要な場合のみ、`custom.css` を配置
- または、対象の HTML 内に `<style>` タグで直接記述

#### HTML内での読み込み例：

```html
<!-- 共通スタイル -->
<link rel="stylesheet" href="/styles.css">
<!-- ページごとの個別スタイル（必要に応じて） -->
<link rel="stylesheet" href="./custom.css">
```

<br>

---

## 補足

- 絵文字サイズ・装飾はクラスで共通管理
- カスタマイズは最小限にし、基本は `styles.css` に集約
- クラス名は「読みやすさ」「役割が分かる命名」を優先
- 今後、SCSSやTailwindへの移行も見据えて、分離しやすい構造を意識

<br>

---

## 今後の拡張

- 用語ページを Markdown ベースで管理する場合でもこの構造は踏襲可能
- Eleventy や Next.js などの静的サイトジェネレータでも活用しやすい構成

<br>

---

**最終更新日**: 2025年7月20日
