# アドセンス申請 & Next.js移行計画書

**作成日**: 2025年1月23日  
**対象**: IT用語辞典サイト（itwords.jp）

---

## 📋 プロジェクト概要

### 目標
1. **Googleアドセンス申請を通す**（収益化の準備）
2. **Next.jsに移行する**（モダンな開発環境への移行）

### 現状
- 静的HTMLサイト（index.html + 各用語ページ）
- CSS（styles.css）とJavaScript（script.js）は別ファイル
- テンプレートシステムで用語ページを生成
- Google Analytics 4とGTMは既に実装済み
- SEO対策は完了済み（メタタグ、構造化データ、Open Graph）

---

## 🎯 フェーズ1: アドセンス申請準備（最優先）

### 目標
アドセンス審査に合格するための要件を満たす

### 必要な作業

#### 1.1 コンテンツの充実
- [ ] **最低10ページ以上のコンテンツ確保**
  - 現状: 約5-6ページ（API, JSON, ローカルストレージ, スタック, キュー, フールプルーフ）
  - 追加必要: 最低4-5ページ
  - 推奨: 15-20ページ（審査通過率向上）

#### 1.2 プライバシーポリシー・利用規約の追加
- [ ] **プライバシーポリシーページ作成**
  - 必須項目:
    - 個人情報の取り扱い
    - Cookieの使用について
    - Google Analyticsの使用について
    - アドセンスの使用について（申請後）
  - 保存先: `/privacy-policy.html` または `/privacy.html`
  - フッターからリンク必須

- [ ] **利用規約ページ作成**（推奨）
  - サイトの利用条件
  - 免責事項
  - 著作権について
  - 保存先: `/terms.html` または `/terms-of-service.html`

#### 1.3 サイトの完成度向上
- [ ] **ベータ版バナーの削除**
  - `index.html`の「このページはベータ版です」バナーを削除
  - 本番サイトとして完成度をアピール

- [ ] **「準備中」タグの整理**
  - 未実装機能の「準備中」タグを削除または実装
  - または該当セクションを一時的に非表示

- [ ] **フッターの充実**
  - プライバシーポリシーへのリンク
  - 利用規約へのリンク
  - お問い合わせフォーム（またはメールアドレス）

#### 1.4 ナビゲーションの改善
- [ ] **サイトマップページの作成**（推奨）
  - 全ページへのリンク一覧
  - ユーザビリティ向上

- [ ] **パンくずリストの実装**（推奨）
  - 各用語ページに「トップ > カテゴリ > 用語名」を表示

#### 1.5 アドセンス申請時の注意点
- [ ] **申請前に確認**
  - 全ページが正常に表示される
  - リンク切れがない
  - モバイル表示が正常
  - 読み込み速度が適切（3秒以内推奨）

### 作業時間目安
- コンテンツ追加: 5-10時間（4-5ページ分）
- プライバシーポリシー作成: 2-3時間
- サイト完成度向上: 2-3時間
- **合計: 9-16時間**

---

## 🚀 フェーズ2: Next.js移行計画

### 目標
静的HTMLサイトをNext.jsアプリケーションに移行

### 移行アプローチ

#### 2.1 Next.jsプロジェクトのセットアップ
- [ ] **Next.jsプロジェクトの作成**
  - `npx create-next-app@latest itwords-nextjs`
  - TypeScript使用（推奨）
  - App Router使用（Next.js 13+の新機能）

- [ ] **ディレクトリ構造の設計**
  ```
  itwords-nextjs/
  ├── app/
  │   ├── page.tsx          # トップページ（index.html相当）
  │   ├── layout.tsx        # 共通レイアウト
  │   ├── [term]/
  │   │   └── page.tsx      # 動的ルーティング（各用語ページ）
  │   ├── privacy/
  │   │   └── page.tsx      # プライバシーポリシー
  │   └── terms/
  │       └── page.tsx      # 利用規約
  ├── components/
  │   ├── TermCard.tsx      # 用語カードコンポーネント
  │   ├── SearchForm.tsx    # 検索フォーム
  │   ├── Navigation.tsx    # ナビゲーション
  │   └── Footer.tsx        # フッター
  ├── lib/
  │   ├── terms.ts          # 用語データ管理
  │   └── utils.ts          # ユーティリティ関数
  ├── styles/
  │   └── globals.css       # グローバルスタイル（styles.css移行）
  └── public/
      └── images/           # 画像ファイル
  ```

#### 2.2 既存コンテンツの移行

##### 2.2.1 スタイルの移行
- [ ] **CSSの移行**
  - `styles.css` → `styles/globals.css`
  - CSS ModulesまたはTailwind CSSの検討
  - レスポンシブデザインの確認

##### 2.2.2 JavaScriptの移行
- [ ] **クライアントサイド機能の移行**
  - `script.js`の機能をReactコンポーネントに変換
  - カテゴリフィルタリング機能
  - 検索機能（実装時）

##### 2.2.3 用語ページの移行
- [ ] **テンプレートシステムの再構築**
  - 現在: HTMLテンプレート + 変数置換
  - 移行後: Reactコンポーネント + データファイル
  - Markdownファイルを直接読み込む（MDX使用）

- [ ] **用語データの構造化**
  ```typescript
  // lib/terms.ts
  export interface Term {
    id: string;
    name: string;
    reading: string;
    category: string;
    difficulty: '初級' | '中級' | '上級';
    description: string;
    points: string[];
    demoContent: string;
    demoTitle: string;
    demoButtonText: string;
    codeLanguage: string;
    sampleCode: string;
    relatedTerms: string[];
    createdAt: string;
    updatedAt: string;
  }
  ```

#### 2.3 SEO対策の維持・強化

- [ ] **メタデータの実装**
  - Next.jsのMetadata APIを使用
  - 各ページの動的メタタグ生成

- [ ] **構造化データの実装**
  - JSON-LDをNext.jsで動的生成
  - 各用語ページにArticle構造化データ

- [ ] **サイトマップの自動生成**
  - `next-sitemap`パッケージを使用
  - 用語追加時に自動更新

- [ ] **robots.txtの設定**
  - Next.jsの設定で自動生成

#### 2.4 パフォーマンス最適化

- [ ] **画像最適化**
  - Next.js Imageコンポーネント使用
  - WebP形式への変換

- [ ] **コード分割**
  - 動的インポートで必要な部分のみ読み込み
  - ページごとの自動コード分割

- [ ] **静的生成（SSG）**
  - 用語ページは静的生成で高速化
  - `generateStaticParams`で全ページを事前生成

#### 2.5 デプロイ

- [ ] **Vercelへのデプロイ**
  - Next.jsはVercelが最適
  - 無料プランで十分
  - 自動デプロイ設定

- [ ] **ドメイン設定**
  - itwords.jpをVercelに接続
  - SSL証明書は自動

- [ ] **環境変数の設定**
  - Google Analytics ID
  - GTM ID
  - アドセンス広告ID（申請後）

### 作業時間目安
- プロジェクトセットアップ: 2-3時間
- スタイル移行: 3-4時間
- コンポーネント作成: 8-12時間
- 用語ページ移行: 6-10時間
- SEO対策: 3-4時間
- テスト・デバッグ: 5-8時間
- **合計: 27-41時間**

---

## 📅 推奨スケジュール

### 第1週: アドセンス申請準備
- **Day 1-2**: コンテンツ追加（4-5ページ）
- **Day 3**: プライバシーポリシー・利用規約作成
- **Day 4**: サイト完成度向上（ベータバナー削除、準備中タグ整理）
- **Day 5**: 最終確認・アドセンス申請

### 第2-3週: Next.js移行（並行作業可能）
- **Week 2**: プロジェクトセットアップ、スタイル移行、基本コンポーネント作成
- **Week 3**: 用語ページ移行、SEO対策、テスト・デバッグ

### 第4週: デプロイ・最終調整
- **Day 1-2**: Vercelデプロイ、ドメイン設定
- **Day 3-4**: 動作確認、パフォーマンス調整
- **Day 5**: 本番切り替え

---

## ⚠️ 注意事項・リスク

### アドセンス申請
- **審査期間**: 通常1-2週間（最長1ヶ月）
- **拒否される可能性**: コンテンツ不足、ナビゲーション不備など
- **対策**: 申請前に必ずチェックリストを確認

### Next.js移行
- **ダウンタイム**: 移行中は一時的にサイトが使えなくなる可能性
- **対策**: 
  - ステージング環境で完全テスト
  - 移行は深夜・低トラフィック時に行う
  - 旧サイトをバックアップ

- **SEO影響**: URL構造が変わる可能性
- **対策**: 
  - 301リダイレクト設定
  - サイトマップ更新
  - Search Consoleで確認

---

## 🔧 必要な技術・ツール

### アドセンス申請
- なし（既存のHTML/CSS/JSで対応可能）

### Next.js移行
- **Node.js**: v18以上
- **Next.js**: v14以上（最新推奨）
- **TypeScript**: 推奨
- **パッケージマネージャー**: npm または yarn
- **デプロイ**: Vercel（推奨）またはその他

### 推奨パッケージ
- `next-sitemap`: サイトマップ自動生成
- `@next/mdx`: Markdownサポート
- `prism-react-renderer`: シンタックスハイライト（Prism.js代替）

---

## ✅ チェックリスト

### アドセンス申請前
- [ ] コンテンツ10ページ以上
- [ ] プライバシーポリシーページ
- [ ] 利用規約ページ（推奨）
- [ ] ベータ版バナー削除
- [ ] 準備中タグの整理
- [ ] フッターにプライバシーポリシーリンク
- [ ] 全ページが正常表示
- [ ] モバイル表示確認
- [ ] リンク切れチェック

### Next.js移行前
- [ ] 全コンテンツのバックアップ
- [ ] 用語データの構造化
- [ ] コンポーネント設計完了
- [ ] スタイル移行完了
- [ ] SEO対策実装完了

### デプロイ前
- [ ] ローカル環境で全機能テスト
- [ ] パフォーマンステスト
- [ ] モバイル表示テスト
- [ ] 301リダイレクト設定
- [ ] サイトマップ生成確認

---

## 📝 次のステップ

1. **この計画書を確認・承認**
2. **フェーズ1（アドセンス申請準備）から開始**
3. **並行してNext.js移行の準備を開始**（時間がある場合）

---

**最終更新**: 2025年1月6日

