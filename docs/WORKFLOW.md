# ワークフロー

## 新規用語ページ追加

人間が新しい用語ページの作成を依頼した場合（例：「Cacheという用語のページを作成して」）

### PHASE 1: 計画（人間とのやり取りが必要）

1. **リクエスト確認**: 人間からのリクエストを確認
2. **キーワード明確化**: 主要キーワードが不明確な場合は質問する
3. **コンテキスト読み込み**: SEOベストプラクティスを理解するため以下を読む
   - `docs/templates/checklists/seo-check-sheet.md`

### PHASE 2: 実行（AI実行）

1. **ディレクトリ作成**: `app/terms/`内に新ディレクトリを作成（kebab-case、例：`app/terms/cache-memory/`）
2. **ページファイル作成**: 新ディレクトリ内に`page.tsx`を作成。`docs/templates/page-template.tsx`を参考にする
3. **【重要】metadataの設定**:
   - **インタラクティブなデモがない場合**: `page.tsx`に直接`export const metadata`を記述
   - **インタラクティブなデモがある場合（`'use client'`が必要）**: `layout.tsx`を作成して`metadata`を記述
     - `docs/templates/layout-template.tsx`を参考にする
     - layout.tsxがないと検索エンジンにタイトル・説明文が表示されない（**SEO致命的**）
   - **必須ルール**:
     - title: 「[用語]とは？小学生でもわかる【[特徴/デモ内容]】」（50文字以内）
     - description: 「[身近な例]で使われる[用語]を3分で理解。「[疑問点]」を[方法]で学べます。」（120文字以内）
     - 「| 実践型IT用語辞典」は不要（冗長）
     - 「初心者向けに解説」「わかりやすく説明」は避ける（具体性がない）
4. **【重要】公式リンクの追加**（**AdSense要件・E-E-A-T対策で必須**）:
   - **必ず入れる**: 公式ドキュメント、MDN、GitHub公式、Wikipediaなど信頼できるソースへのリンク
   - **文章内に自然に埋め込む**: 「詳しくは[公式サイト](URL)で確認できます」
   - **避けるリンク**: 個人ブログ、競合サイト、アフィリエイト目的のサイト
   - **理由**: Googleが「信頼できる情報源を参照している」と評価し、AdSense審査通過率が上がる
5. **プレースホルダーコンテンツ**: 基本的なプレースホルダーコンテンツと構造を追加
6. **人間にレビュー依頼**: 作成したファイルのパスを提示。基本構造が完成したことを伝え、本文コンテンツ追加のレビューを依頼
7. **検索インデックス更新**: 人間がコンテンツ追加を確認したら、検索インデックスを更新
   ```bash
   npm run build-index
   ```
8. **確認と完了報告**: コマンド成功を確認し、人間に完了を報告

### PHASE 3: SEOチェック（AI-人間連携）

1. **チェック開始**: 人間からのプロンプト（例：「Cacheという用語のSEOチェックをして」）で開始。ページ公開・インデックス後数日後に実施
2. **予備検索**: `google_web_search`ツールで主要キーワードを検索し、公開検索ランキングを推定
3. **人間にデータ依頼**: Google Search Consoleから正確なデータを要求
   > 「正確にパフォーマンスを追跡するため、Google Search Consoleからキーワード **'[keyword]'** の以下のデータを提供してください：
   > - 現在のランク:
   > - クリック数:
   > - インプレッション数:
   > - CTR (%):"

### PHASE 4: データ記録（AI実行）

1. **データ受信**: 人間からのデータを待つ
2. **トラッキングシート読み込み**: `docs/templates/checklists/seo-keyword-tracking-sheet.md`を読む
3. **レコード追記**: 新データをMarkdownテーブル形式で適切なテーブルに新行として追記
4. **完了確認**: SEOトラッキングデータが記録されたことを人間に通知
