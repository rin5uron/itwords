<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="IPアドレスの仕組みと実際の体験。実践しながら学べるIT用語辞典。">
  <title>【ネットワーク基礎】IPアドレスとは？｜実践型IT用語辞典</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <div class="container">
      <div class="hamburger-menu" id="hamburgerMenu" role="button" aria-label="メニューを開閉する" aria-controls="navMenu" aria-expanded="false">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
      <div class="theme-switcher-container">
        <button id="themeSwitcher" aria-label="テーマを切り替える">🌙</button>
      </div>
      <h1>実践型IT用語辞典</h1>
      <p class="subtitle">「読んで終わり」じゃなく、「動かして理解する」</p>
      <nav id="navMenu">
        <ul>
          <li><a href="index.html#popular">人気用語</a></li>
          <li><a href="index.html#demo">体験デモ</a></li>
          <li><a href="index.html#new">新着用語</a></li>
          <li><a href="index.html#about">制作背景</a></li>
          <li><a href="form/request.html">用語リクエスト</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="breadcrumb">
      <a href="index.html">🏠 トップ</a> / <a href="index.html#popular">人気用語</a> / IPアドレス
    </div>
    <section class="learning-objectives">
      <h3>📚 このページで学べること</h3>
      <ul>
        <li>IPアドレスの基本的な仕組み</li>
        <li>実際にIPアドレスを調べる体験</li>
        <li>IPアドレスの種類と分類</li>
        <li>プライベートIPとパブリックIPの違い</li>
      </ul>
    </section>

    <section>
      <h2>🤔 IPアドレスとは？</h2>
      <p>IPアドレスは、インターネットやネットワーク上で機器を識別するための番号です。</p>
      <p>簡単に言うと、<strong>「インターネット上の住所」</strong>のようなものです。</p>
      
      <div class="highlight">
        💡 <strong>例えば：</strong> 手紙を送るときに住所が必要なように、インターネット上でデータを送るときにも「どこに送るか」を示すIPアドレスが必要です。
      </div>
      
      <h3>IPアドレスの表記</h3>
      <p>IPv4では、4つの数字を「.」で区切って表現します：</p>
      <div class="ip-display">192.168.1.1</div>
      <p>各数字は0〜255の範囲で、合計で約43億個のアドレスが作れます。</p>
    </section>

    <section>
      <h2>🧪 あなたのIPアドレスを調べてみよう！</h2>
      <p>実際にあなたが今使っているIPアドレスを調べてみましょう。</p>
      
      <div class="demo-area">
        <h3>現在のIPアドレス情報</h3>
        <button class="btn" onclick="getMyIP()">🔍 私のIPアドレスを調べる</button>
        
        <div id="ipResult" class="ip-info-card" style="display: none;">
          <h4>📍 あなたのIPアドレス情報</h4>
          <p><strong>IPアドレス:</strong> <span id="ipAddress">取得中...</span></p>
          <p><strong>所在地:</strong> <span id="location">取得中...</span></p>
          <p><strong>ISP:</strong> <span id="isp">取得中...</span></p>
          <p><strong>IPタイプ:</strong> <span id="ipType">取得中...</span></p>
        </div>
      </div>
      
      <div class="highlight">
        ⚠️ <strong>注意：</strong> 表示されるのは「パブリックIPアドレス」です。実際にはルーターなどにより、あなたのデバイスには「プライベートIPアドレス」も割り当てられています。
      </div>
    </section>

    <section>
      <h2>🎯 IPアドレスの体験ツール</h2>
      <div class="demo-area">
        <h3>IPアドレスの種類を調べる</h3>
        <div class="input-group">
          <label for="ipInput">IPアドレスを入力してください</label>
          <input type="text" id="ipInput" placeholder="例: 192.168.1.1">
        </div>
        <button class="btn" onclick="analyzeIP()">🔍 分析する</button>
        
        <div class="output" id="analysisResult">
ここに分析結果が表示されます...
        </div>
      </div>
    </section>

    <section>
      <h2>📝 IPアドレスの分類</h2>
      
      <h3>パブリックIP vs プライベートIP</h3>
      <div class="ip-class-grid">
        <div class="ip-class-card">
          <h4>🌐 パブリックIP</h4>
          <p>インターネット上で使用される、全世界でユニークなIP</p>
          <p><strong>例:</strong> 8.8.8.8 (Google DNS)</p>
        </div>
        <div class="ip-class-card">
          <h4>🏠 プライベートIP</h4>
          <p>ローカルネットワーク内でのみ使用されるIP</p>
          <p><strong>例:</strong> 192.168.1.1 (家庭内ルーター)</p>
        </div>
      </div>
      
      <h3>プライベートIPの範囲</h3>
      <ul>
        <li><strong>クラスA:</strong> 10.0.0.0 ～ 10.255.255.255</li>
        <li><strong>クラスB:</strong> 172.16.0.0 ～ 172.31.255.255</li>
        <li><strong>クラスC:</strong> 192.168.0.0 ～ 192.168.255.255</li>
      </ul>
    </section>

    <section>
      <h2>🔄 IPv4とIPv6</h2>
      <p>現在、IPアドレスには2つのバージョンがあります：</p>
      
      <div class="ip-class-grid">
        <div class="ip-class-card">
          <h4>IPv4（現在の主流）</h4>
          <p>32ビット、約43億個のアドレス</p>
          <p><strong>例:</strong> 192.168.1.1</p>
        </div>
        <div class="ip-class-card">
          <h4>IPv6（次世代）</h4>
          <p>128ビット、約340澗個のアドレス</p>
          <p><strong>例:</strong> 2001:db8::1</p>
        </div>
      </div>
      
      <div class="highlight">
        💡 <strong>なぜIPv6が必要？</strong> スマートフォンやIoT機器の普及により、IPv4アドレスが不足しているためです。
      </div>
    </section>

    <section>
      <h2>🎯 実用的な使い方</h2>
      <p>IPアドレスは以下のような場面で活用されます：</p>
      <ul>
        <li><strong>ネットワーク設定:</strong> ルーターやプリンターの設定</li>
        <li><strong>セキュリティ:</strong> アクセス制限や監視</li>
        <li><strong>サーバー運営:</strong> Webサイトやサービスの公開</li>
        <li><strong>トラブルシューティング:</strong> 接続問題の診断</li>
      </ul>
      
      <div class="highlight">
        💡 <strong>プロのコツ：</strong> 家庭内ネットワークの問題を解決するときは、まずルーターのIPアドレス（通常192.168.1.1）にアクセスしてみましょう！
      </div>
    </section>

    <section class="related-terms">
      <h2>🔗 関連用語</h2>
      <ul>
        <li><a href="dns.html">🔍 DNS - ドメイン名とIPアドレスの変換</a></li>
        <li><a href="router.html">📡 ルーター - ネットワークの中継装置</a></li>
        <li><a href="subnet.html">🌐 サブネット - ネットワークの分割</a></li>
        <li><a href="nat.html">🔄 NAT - プライベートIP⇄パブリックIP変換</a></li>
      </ul>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-links">
        <a href="form/request.html">用語リクエスト</a>
        <a href="rss.xml" target="_blank">RSS</a>
      </div>
      <div class="sns-share">
        <a href="#" id="shareTwitter" target="_blank" aria-label="Twitterでシェア">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        </a>
        <a href="#" id="shareFacebook" target="_blank" aria-label="Facebookでシェア">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
        </a>
      </div>
      <p>&copy; 2025 実践型IT用語辞典 | Jissen IT</p>
    </div>
  </footer>

  <script>
    // Hamburger Menu
    document.getElementById('hamburgerMenu').addEventListener('click', function() {
      document.getElementById('navMenu').classList.toggle('active');
    });

    // Theme Switcher
    const themeSwitcher = document.getElementById('themeSwitcher');
    const body = document.body;

    // 1. localStorageからテーマ設定を読み込む
    const currentTheme = localStorage.getItem('theme');

    // 2. テーマを適用する関数
    const applyTheme = (theme) => {
      if (theme === 'dark') {
        body.classList.add('dark-mode');
        themeSwitcher.textContent = '☀️';
      } else {
        body.classList.remove('dark-mode');
        themeSwitcher.textContent = '🌙';
      }
    };

    // 3. 初期テーマの設定
    if (currentTheme) {
      applyTheme(currentTheme);
    } else {
      // localStorageに設定がない場合はOSの設定に従う
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      applyTheme(prefersDark ? 'dark' : 'light');
    }

    // 4. スイッチクリック時の動作
    themeSwitcher.addEventListener('click', () => {
      let newTheme;
      if (body.classList.contains('dark-mode')) {
        newTheme = 'light';
      } else {
        newTheme = 'dark';
      }
      applyTheme(newTheme);
      localStorage.setItem('theme', newTheme);
    });

    // IPアドレス取得と分析のスクリプト (既存のものをそのまま残す)
    async function getMyIP() {
      const resultDiv = document.getElementById('ipResult');
      const ipAddress = document.getElementById('ipAddress');
      const location = document.getElementById('location');
      const isp = document.getElementById('isp');
      const ipType = document.getElementById('ipType');
      
      // 結果エリアを表示
      resultDiv.style.display = 'block';
      
      try {
        // IP情報を取得（無料APIを使用）
        const response = await fetch('https://ipapi.co/json/');
        const data = await response.json();
        
        ipAddress.textContent = data.ip || '取得できませんでした';
        location.textContent = `${data.city || '不明'}, ${data.country_name || '不明'}`;
        isp.textContent = data.org || '不明';
        
        // IPタイプを判定
        const ip = data.ip;
        if (ip) {
          ipType.textContent = determineIPType(ip);
        } else {
          ipType.textContent = '判定できません';
        }
        
      } catch (error) {
        // エラーの場合は代替手段を使用
        ipAddress.textContent = '取得に失敗しました';
        location.textContent = 'APIエラー';
        isp.textContent = 'APIエラー';
        ipType.textContent = '判定できません';
        
        console.error('IP取得エラー:', error);
      }
    }
    
    function determineIPType(ip) {
      const parts = ip.split('.').map(Number);
      
      // プライベートIPの判定
      if (parts[0] === 10) {
        return 'プライベートIP (クラスA)';
      } else if (parts[0] === 172 && parts[1] >= 16 && parts[1] <= 31) {
        return 'プライベートIP (クラスB)';
      } else if (parts[0] === 192 && parts[1] === 168) {
        return 'プライベートIP (クラスC)';
      } else {
        return 'パブリックIP';
      }
    }
    
    function analyzeIP() {
      const ipInput = document.getElementById('ipInput').value.trim();
      const resultDiv = document.getElementById('analysisResult');
      
      if (!ipInput) {
        resultDiv.textContent = 'IPアドレスを入力してください';
        return;
      }
      
      // 簡易的なIP形式チェック
      const ipPattern = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;
      const match = ipInput.match(ipPattern);
      
      if (!match) {
        resultDiv.textContent = '有効なIPアドレスの形式ではありません\n例: 192.168.1.1';
        return;
      }
      
      const parts = match.slice(1).map(Number);
      
      // 各オクテットの範囲チェック
      if (parts.some(part => part < 0 || part > 255)) {
        resultDiv.textContent = '各数値は0〜255の範囲で入力してください';
        return;
      }
      
      // 分析結果を表示
      let result = `📊 IPアドレス分析結果\n`;
      result += `━━━━━━━━━━━━━━━━━━━━━━━━\n`;
      result += `入力されたIP: ${ipInput}\n\n`;
      
      // IPタイプの判定
      result += `🏷️ IPタイプ: ${determineIPType(ipInput)}\n\n`;
      
      // クラス判定
      if (parts[0] <= 126) {
        result += `📂 クラス: A (1-126)\n`;
        result += `💡 大規模ネットワーク用\n`;
      } else if (parts[0] <= 191) {
        result += `📂 クラス: B (128-191)\n`;
        result += `💡 中規模ネットワーク用\n`;
      } else if (parts[0] <= 223) {
        result += `📂 クラス: C (192-223)\n`;
        result += `💡 小規模ネットワーク用\n`;
      } else {
        result += `📂 クラス: D/E (224-255)\n`;
        result += `💡 特殊用途\n`;
      }
      
      // 特殊なIPの判定
      if (ipInput === '127.0.0.1') {
        result += `\n🏠 ローカルホスト (自分自身)`;
      } else if (ipInput === '255.255.255.255') {
        result += `\n📢 ブロードキャストアドレス`;
      } else if (parts[0] === 169 && parts[1] === 254) {
        result += `\n🔧 APIPA (自動IP設定)`;
      }
      
      resultDiv.textContent = result;
    }
  </script>
</body>
</html> 